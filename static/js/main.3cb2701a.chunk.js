(this.webpackJsonpreactcharts=this.webpackJsonpreactcharts||[]).push([[0],{151:function(t,a,e){"use strict";e.r(a);var o=e(0),n=e.n(o),r=e(46),i=e.n(r),s=(e(53),e(15)),c=e(16),l=e(18),d=e(17),u=e(19),p=(e(54),e(29)),g=(e(150),function(t){function a(t){return Object(s.a)(this,a),Object(l.a)(this,Object(d.a)(a).call(this,t))}return Object(u.a)(a,t),Object(c.a)(a,[{key:"render",value:function(){var t=this;console.log(this.props);var a={trackNames:[]};try{Object.keys(this.props.rawIncomingData).map((function(e){return a[e]=t.props.rawIncomingData[e]})),a.spotifyAudioFeatures.map((function(t){a[t]=[]})),a.rawDataByTrack.map((function(t){a.trackNames.push(t.trackName),a[t.trackName]=[],a.spotifyAudioFeatures.map((function(e){a[e].push(t.audioFeatures[e]),a[t.trackName].push(t.audioFeatures[e])}))})),a.dataByAudioFeature={datasets:[],labels:a.trackNames},a.dataByTrack={datasets:[],labels:a.spotifyAudioFeatures},a.spotifyAudioFeatures.map((function(t){var e={label:t,data:a[t],fill:!1,borderColor:"rgba(94, 177, 208, 1)"};console.log(e),a.dataByAudioFeature.datasets.push(e)})),a.rawDataByTrack.map((function(t){var e={label:t.trackName,data:a[t.trackName],fill:!1,borderColor:"rgba(94, 177, 208, 1)"};a.dataByTrack.datasets.push(e)})),console.log("incoming data fully unpacked",a)}catch(e){console.log("still loading data")}return n.a.createElement("div",{className:"chart"},n.a.createElement(p.b,{data:a.dataByTrack,options:{dragData:!0,dragDataRound:2,showTooltip:!0,title:{display:this.props.displayTitle,text:this.props.location,fontSize:25},legend:{display:this.props.displayLegend,position:this.props.legendPosition},scale:{ticks:{beginAtZero:!0,max:1}},onDragStart:function(t,a){console.log("dragging ",a)},onDrag:function(t,a,e,o){t.target.style.cursor="grabbing"},onDragEnd:function(t,a,e,o){console.log("done dragging!"),console.log(a,e,o),t.target.style.cursor="default"},hover:{onHover:function(t){this.getElementAtEvent(t).length?t.target.style.cursor="grab":t.target.style.cursor="default"}}}}),n.a.createElement(p.a,{data:a.dataByAudioFeature,options:{dragData:!0,dragDataRound:1,title:{display:this.props.displayTitle,text:this.props.location,fontSize:25},scales:{yAxes:[{ticks:{min:0,max:1,stepSize:.1}}]},legend:{display:this.props.displayLegend,position:this.props.legendPosition}}}))}}]),a}(o.Component));g.defaultProps={displayTitle:!0,displayLegend:!0,legendPosition:"right",location:"City"};var h=g,m=function(t){function a(){var t;return Object(s.a)(this,a),(t=Object(l.a)(this,Object(d.a)(a).call(this))).state={},t}return Object(u.a)(a,t),Object(c.a)(a,[{key:"componentDidMount",value:function(){var t=this,a=window.location.search,e=new URLSearchParams(a),o={refresh_token:e.get("refresh_token"),mode:e.get("mode"),form_data:e.get("form_data")};fetch("https://music-in-context-backend.herokuapp.com/data",{mode:"cors",method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(a){t.setState({rawIncomingData:a})}))}},{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(h,{rawIncomingData:this.state.rawIncomingData,location:"Audio Features",legendPosition:"bottom"}))}}]),a}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(m,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},48:function(t,a,e){t.exports=e(151)},53:function(t,a,e){},54:function(t,a,e){}},[[48,1,2]]]);
//# sourceMappingURL=main.3cb2701a.chunk.js.map